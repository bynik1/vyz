# цель: зависимости
# [tab] команда
#$@ заменяется на текущую цель.
#$< которая заменяется на первую зависимость из списка.
#$^ которая заменяется на список всех зависимостей с их каталогами.
# pastsubst Находит в тексте слова, разделенные пробелами , которые соответствуют шаблону, и заменяет их на замену .

#Переменные
Target = game
cc = gcc

pref_src = ./src/
pref_obj = ./obj/

#переменной src присваиваються все все файлы с расширением си
src = $(wildcard $(pref_src)*.c)
obj = $(patsubst $(pref_src)%.c, $(pref_obj)%.o, $(src))

$(Target) : $(obj)
	$(cc) $(obj) -o $(Target)

#$< значит то что справо, $@ то что слева
$(pref_obj)%.o : $(pref_src)%.c
	$(cc) -c $< -o $@

clean :
	rm $(Target) $(pref_obj)*.o